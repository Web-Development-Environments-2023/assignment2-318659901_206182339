<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Space Game</title>
    <style type="text/css">
        body {
            background-image: url('items/background.jpg');
            background-size: cover;
            height: 100vh;
        }
       
    </style>
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.cdnfonts.com/css/gibson" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/games" rel="stylesheet"> 
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Play" />

    <!-- <style>
      @import url('https://fonts.cdnfonts.com/css/gibson');
</style> -->

                
   
  </head>
  <body>
    <nav id="menu" class="start">
      <img src="items/logo2.png" height="40" alt="Logo" class="logo">
      <!-- <h1 class="game-title">Space Invaders</h1> -->
      
      <h1 class="game-title">Shooting Tunes</h1>
      <ul>
      <li><a id="Home_menu" href="#">Home</a></li>
      <li><a id="About_menu" href="#">About</a></li>
    
      <li><a id="Login_menu" href="#">Login</a></li>
      <li><a id="SignUp_menu" href="#">Register</a></li>
    </ul>
    </nav>
    <div id="Welcome" class="start" >
      <h1 class="welcome_header">Welcome to</br/>Shooting Tunes</h1>
      <p>You need to Login so you can start playing.</p>
      <button><a id="Login_btn">Login</a></button>
      <button id="SignUp_btn">Register</button>
    </div>
    <div id="Login" style="display: none">
      <h1 class="login_H">Login</h1>
      <form>
        <div class="form">
          <label for="username">Username:</label>
          <input type="text" name="username" id="Login_username" autofocus/>
        </div>
        <div class="form">
          <label for="password">Password:</label>
          <input type="password" name="password" id="Login_password" autofocus />
        </div>
        <div class="form">
          <input type="button" value="Login" id="SubmitLogin" />
        </div>
      </form>
    </div>
    <div id="SignUp" style="display: none">
      <h1 class="signup_H">Sign Up</h1>
      <form>
        <div class="form">
          <label for="username">Username:</label>
          <input type="text" name="username" id="SignUp_username" autofocus required />
        </div>
        <div class="form">
          <label for="password">Password:</label>
          <input
            type="password"
            name="password"
            id="SignUp_password" autofocus
            required
          />
        </div>
        <div class="form">
          <label for="Verify">Verify:</label>
          <input
            type="password"
            name="verify"
            id="SignUp_confirmPassword"
            required
          />
        </div>
        <div class="form">
          <label for="FirstName">First Name:</label>
          <input
            type="FirstName"
            name="FirstName"
            id="SignUp_firstname"
            required
          />
        </div>
        <div class="form">
          <label for="LastName">Last Name:</label>
          <input
            type="LastName"
            name="LastName"
            id="SignUp_lastname"
            required
          />
        </div>
        <div class="form">
          <label for="Email">Email:</label>
          <input type="Email" name="Email" id="SignUp_email" required />
        </div>
        <div class="form">
          <label for="BirthDay">Birth Day:</label>
          <input
            type="date"
            name="BirthDay"
            id="SignUp_birthday"
            required
          />
        </div>
        <div class="form">
          <input type="button" value="SignUp" id="SubmitSignUp" />
        </div>
      </form>
    </div>
    <div class="Game" id="Game" style="display: none">
      <!-- <h1 style="text-align: center; padding: 20px">Shooting Tunes</h1> -->

      <table style="width: 98%; height: 85%;">
        <tr>
          <td class="settings"  style="max-width: 10%; width: 10%; padding: 10px; ">
            <table >
              <tr>
                <td><button id="startButton" style="width: 100%;">Start Game</button></td>
              </tr>
              <tr>
                <td><button id="stopButton" style="width: 100%;">Stop Game</button></td>
              </tr>

              <tr>
                <td><p id="Score" style="display: none"></p></td>
              </tr>
              <tr>
              <td><p style="display: none; color: azure; font-size: 16px;" id="playerhp"></p></td>
            </tr>
              <tr>
                <td><p style="display: none; color: azure; font-size: 16px;" id="timer"></p></td>
              </tr>
            </table>
          </td>
          <td class="screen" style="height: 106vh; ">
            <canvas id="theCanvas" style="width: 100%; height: 85%;"></canvas>
          </td>
        </tr>
      </table>
      
    </div>

    <dialog id="About" style="display: none; background-image: url('items/wallpaper.jpg'); background-size: cover; background-position: center;">
      <form method="dialog">
        <button id="dialogClose" type="button">X</button><br /><br >
        <h1 style="font-family: 'Games', sans-serif; color: black;">About</h1>
        <p id="dialogText" style="font-family: 'Play', sans-serif; color: black;">
        
     Hello!
     <br/>
     We are Michal Alhindi and Sean Hacmon. <br/>
     We made the "Shooting Tunes" game. In the Configuration menu, you can decide the the time limit for the game,<br/>
     decide what key to shoot from the keyboard, and also choose your enemy.<br/>
     Time left, player lives and score are shown in the game canvas.<br/>
      We also added "Stop Game" button, for those who want to stop the game without the need to start over. <br/>
      (Stopping the game and start a new game do not reserved in the game scoreboard)<br/>
      We added some sounds:the game backtrack of Looney Tunes theme song, sound when you lose, sound if you are <br/>
      a champion, and also hit sounds for the shooting. <br/>
      We did have some issues during the developing of the game, such as different bugs with event listeners,  <br/>
      and had some trouble with the key handlers at first but then fixed the issue.<br/>
      Hope you enjoy!
           </font>
        </p>

      </form>
    </dialog>
    <div id="Configuration" style="display: none">
      <h1 class="config_H">Choose your game settings:</h1>
       <!-- <form id="configForm" onsubmit="LoadGame()"> -->
        <form id="configForm" onsubmit="gameSettings(timelimit.value, shootlabel.innerHTML)">
        <label for="timelimit">Time limit:</label>
        <input type="number" id="timelimit" min="2" value="2" style="width: 10ch;"><br/><br/>
        
        <label for="shootchange">Shooting Button:</label><br/>
        <!-- <label for="shootchange">Shooting Button:</label><br/> -->
        <select id="shootchange">
          <option value="Space">Space</option>
          <!-- Generate options for all letters from A to Z -->
          <script>
            const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            for (let i = 0; i < letters.length; i++) {
              document.write(`<option value="Key${letters[i]}">${letters[i]}</option>`);
            }
          </script>
        </select>
        <button onclick="assignKey()">Assign key</button>
        <label id="shootlabel">Space</label>
        <label id="listeninglabel" style="visibility: hidden;">Assigning key...</label><br/><br/>
        <label for="playerimage">Choose your enemy:</label><br/>
        <select id="playerimage" onchange="updatePlayerImage()">
          <option value="items/enemy.png">Marvin the Martian</option>
          <option value="items/enemy2.png">Tazmanian Devil</option>
          <option value="items/enemy3.png">Elmer Fudd</option>
         
        </select>
        <img id="playerimg" src="items/enemy.png" width="70" height="100"><br/><br/>
    
        <script>
      
          function assignKey() {
            event.preventDefault();
            document.getElementById("listeninglabel").style.visibility = "visible";
            const shootchange = document.querySelector('#shootchange');
            const selectedKey = shootchange.value;
            document.getElementById("shootlabel").innerHTML = selectedKey;
          }
        </script>
        <script>
          // Update the player image based on the selected option in the dropdown menu
          function updatePlayerImage() {
            const playerImageSelect = document.getElementById("playerimage");
            const playerImage = document.getElementById("playerimg");
            const selectedOption = playerImageSelect.options[playerImageSelect.selectedIndex];
            playerImage.src = selectedOption.value;
          }
        </script>
   
                        
        <input type="reset" id= "Default" value="Default Setting" onclick="shootlabel.innerHTML='Space' ;playerimage.value= 'items/enemy.png' ; updatePlayerImage()"><br/>
        <input type="submit" id="submitplay" value="Play">
       
    </form>
    </div>

    <div id="scoreboard">
      <h1 class="scoreboard_H">Game Over</h1>
      <table id="scoreTable" style="color: azure; width:80%; height: 300px;">
          <tr>
              <th>Player</th>
              <th>Score</th>
              <th>Result</th>
          </tr>
      </table>
      <tr>
        <button id="previousButton" value="Return">Return</button>
      </tr>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
    <link
      rel="stylesheet"
      href="https://code.jquery.com/ui/1.13.1/themes/smoothness/jquery-ui.css"
    />
    <footer id="footer" class="footer">
      <p> All rights reserved to Sean Hacmon and Michal Alhindi. To contact us: alhindim@post.bgu.ac.il or hacmons@post.bgu.ac.il</p>
    </footer>
    <script>
      $(document).ready(function () {
        $("#BirthDay").datepicker();
      });
    </script>
     <script src="jsCode.js"></script>
  </body>
</html>
